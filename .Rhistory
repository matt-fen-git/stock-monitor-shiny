hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 2) %>%
hc_tooltip(valueDecimals = 2)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 2,name = "RSI-14day") %>%
hc_tooltip(valueDecimals = 2)
RSI.SellLevel <- xts(rep(70, NROW(this_set)), index(this_set))
RSI.BuyLevel <- xts(rep(30, NROW(this_set)), index(this_set))
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 2,name = "RSI-14day") %>%
hc_add_series(SPY.RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 2, name = "Sell level") |>
hc_add_series(SPY.RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 2, name = "Buy level") |>
hc_tooltip(valueDecimals = 2)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 2,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 2, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 2, name = "Buy level") |>
hc_tooltip(valueDecimals = 2)
xts(rep(30, NROW(this_set)), index(this_set))
MACD(cl(this_set))
MACD(Cl(this_set))
macd <- MACD(Cl(this_set))
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 2,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 2, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 2, name = "Buy level") |>
hc_add_series(data = macd,yAxis = 3,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 2,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 2, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 2, name = "Buy level") |>
hc_add_series(data = macd,yAxis = 3,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "macd",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "macd",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
# add moving average convergance divergance
macd <- MACD(Cl(this_set))
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "EMA")
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
source("~/.active-rstudio-document")
# Install using the remotes package
remotes::install_github("rstudio/shinyuieditor")
shinyuieditor::launch_editor(app_loc = "app-files/app.R")
shinyuieditor::launch_editor(app_loc = "app-files/app.R")
shinyuieditor::launch_editor(app_loc = "app-files/app.R")
shinyuieditor::launch_editor(app_loc = "~/Kaggle Projects/Stock Monitor/Stock-Monitor/app-reference.R")
shiny::runApp('~/Kaggle Projects/Stock Monitor/Stock-Monitor')
library(gridlayout)
shinyuieditor::launch_editor(app_loc = "~/Kaggle Projects/Stock Monitor/Stock-Monitor/app-reference.R")
source("~/Kaggle Projects/shiny-stock-monitor/processing-scripts/main_call_process.R")
shiny::runApp('app-files')
#https://api.highcharts.com/highstock/plotOptions
# Investigating highcharter
library(quantmod)
library(TTR)
library(dplyr)
library(tidyr)
this_set <- stock_data_list$Intel
names(this_set) <-  tolower(sub(".*\\.","",colnames(this_set)))
bollinger_bands <- TTR::BBands(this_set$close, n = 20, sd = 2) %>% as.data.frame() %>% drop_na()
# Add additional indicators
# Add Bollinger Bands to your data frame
df <- bollinger_bands %>%
drop_na() %>%
tibble::rownames_to_column(var = "Date") %>%
rename("Low" = "dn" ,"High" = "up")
ts <- xts(df[,-1],order.by = as.Date(df$Date))
# add RSI
rsi.14 <- RSI(Cl(this_set))
RSI.SellLevel <- xts(rep(70, NROW(this_set)), index(this_set))
RSI.BuyLevel <- xts(rep(30, NROW(this_set)), index(this_set))
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "EMA")
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "SMA")
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
runApp('app-files')
this_set <- stock_data_list$`Oracle Corporation`
library(highcharter)
hchart(this_set,type = "ohlc") |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set), color = 'cornflowerblue')%>% #Chart downside BB
hc_add_series(SMA(Hi(this_set) + sd(SMA(Hi(this_set),20),na.rm = T),n = 2), color = 'cornflowerblue') |>
hc_add_series(SMA(Hi(this_set) - sd(SMA(Hi(this_set),20),na.rm = T),n = 2), color = 'cornflowerblue') |>
hc_tooltip(valueDecimals = 2)  # Chart uppersider BB
TTR::BBands(Cl(this_set),n = 20,sd = 2)
# Example data
df <- data.frame(
date = as.Date('2023-01-01') + 0:99,
price = cumsum(rnorm(100, 0, 1)) + 100
)
# Calculate Bollinger Bands
bollinger_bands <- TTR::BBands(df$price, n = 20, sd = 2) %>% as.data.frame()
# Add Bollinger Bands to your data frame
df <- df %>%
mutate(
middle_band = bollinger_bands$mavg,
upper_band = bollinger_bands$up,
lower_band = bollinger_bands$dn
) %>% drop_na()
# Create the highcharter plot
hchart(df,type = "ohlc") %>%
hc_add_series(hcaes(x = date, y = price), name = "Price") %>%
hc_add_series(df, hcaes(x = date, y = middle_band), name = "Middle Band", color = "#2b908f") %>%
hc_add_series(df, hcaes(x = date, y = upper_band), name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(df, hcaes(x = date, y = lower_band), name = "Lower Band", color = "#f45b5b") #%>%
this_set <- stock_data_list$`Oracle Corporation`
names(this_set) <-  tolower(sub(".*\\.","",colnames(this_set)))
bollinger_bands <- TTR::BBands(this_set$close, n = 20, sd = 2) %>% as.data.frame() %>% drop_na()
# Add additional indicators
# Add Bollinger Bands to your data frame
df <- bollinger_bands %>%
drop_na() %>%
tibble::rownames_to_column(var = "Date") %>%
rename("Low" = "dn" ,"High" = "up")
ts <- xts(df[,-1],order.by = as.Date(df$Date))
# add RSI
rsi.14 <- RSI(Cl(this_set))
RSI.SellLevel <- xts(rep(70, NROW(this_set)), index(this_set))
RSI.BuyLevel <- xts(rep(30, NROW(this_set)), index(this_set))
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "SMA")
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "EMA",nSlow = 9,nFast = 12)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "SMA",nSlow = 9,nFast = 12)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
this_set <- stock_data_list$`Advanced Micro Devices`
names(this_set) <-  tolower(sub(".*\\.","",colnames(this_set)))
bollinger_bands <- TTR::BBands(this_set$close, n = 20, sd = 2) %>% as.data.frame() %>% drop_na()
# Add additional indicators
# Add Bollinger Bands to your data frame
df <- bollinger_bands %>%
drop_na() %>%
tibble::rownames_to_column(var = "Date") %>%
rename("Low" = "dn" ,"High" = "up")
ts <- xts(df[,-1],order.by = as.Date(df$Date))
# add RSI
rsi.14 <- RSI(Cl(this_set))
RSI.SellLevel <- xts(rep(70, NROW(this_set)), index(this_set))
RSI.BuyLevel <- xts(rep(30, NROW(this_set)), index(this_set))
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "SMA",nSlow = 9,nFast = 12)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
shiny::runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
runApp('app-files')
source("~/Kaggle Projects/shiny-stock-monitor/processing-scripts/main_call_process.R")
shiny::runApp('app-files')
#https://api.highcharts.com/highstock/plotOptions
# Investigating highcharter
library(quantmod)
library(TTR)
library(dplyr)
library(tidyr)
this_set <- getSymbols("NIO", src = "yahoo", auto.assign = FALSE)
this_set
names(this_set) <-  tolower(sub(".*\\.","",colnames(this_set)))
bollinger_bands <- TTR::BBands(this_set$close, n = 20, sd = 2) %>% as.data.frame() %>% drop_na()
# Add additional indicators
# Add Bollinger Bands to your data frame
df <- bollinger_bands %>%
drop_na() %>%
tibble::rownames_to_column(var = "Date") %>%
rename("Low" = "dn" ,"High" = "up")
ts <- xts(df[,-1],order.by = as.Date(df$Date))
# add RSI
rsi.14 <- RSI(Cl(this_set))
RSI.SellLevel <- xts(rep(70, NROW(this_set)), index(this_set))
RSI.BuyLevel <- xts(rep(30, NROW(this_set)), index(this_set))
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "SMA",nSlow = 9,nFast = 12)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
library(highcharter)
#https://api.highcharts.com/highstock/plotOptions
# Investigating highcharter
this_set <- stock_data_list$`Advanced Micro Devices`
this_set <- getSymbols("NIO", src = "yahoo", auto.assign = FALSE)
names(this_set) <-  tolower(sub(".*\\.","",colnames(this_set)))
bollinger_bands <- TTR::BBands(this_set$close, n = 20, sd = 2) %>% as.data.frame() %>% drop_na()
# Add additional indicators
# Add Bollinger Bands to your data frame
df <- bollinger_bands %>%
drop_na() %>%
tibble::rownames_to_column(var = "Date") %>%
rename("Low" = "dn" ,"High" = "up")
ts <- xts(df[,-1],order.by = as.Date(df$Date))
# add RSI
rsi.14 <- RSI(Cl(this_set))
RSI.SellLevel <- xts(rep(70, NROW(this_set)), index(this_set))
RSI.BuyLevel <- xts(rep(30, NROW(this_set)), index(this_set))
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "SMA",nSlow = 9,nFast = 12)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
#https://api.highcharts.com/highstock/plotOptions
# Investigating highcharter
this_set <- stock_data_list$`Oracle Corporation`
names(this_set) <-  tolower(sub(".*\\.","",colnames(this_set)))
bollinger_bands <- TTR::BBands(this_set$close, n = 20, sd = 2) %>% as.data.frame() %>% drop_na()
# Add additional indicators
# Add Bollinger Bands to your data frame
df <- bollinger_bands %>%
drop_na() %>%
tibble::rownames_to_column(var = "Date") %>%
rename("Low" = "dn" ,"High" = "up")
ts <- xts(df[,-1],order.by = as.Date(df$Date))
# add RSI
rsi.14 <- RSI(Cl(this_set))
RSI.SellLevel <- xts(rep(70, NROW(this_set)), index(this_set))
RSI.BuyLevel <- xts(rep(30, NROW(this_set)), index(this_set))
# add moving average convergance divergance
macd <- MACD(Cl(this_set),maType = "SMA",nSlow = 9,nFast = 12)
hchart(object = this_set, type = "candlestick") %>%
hc_yAxis_multiples(create_axis(3, height = c(2, 1, 1), turnopposite = TRUE)) |>
hc_add_theme(hc_theme_db()) %>%
hc_add_series(Cl(this_set),yAxis = 0,name = "Close",  color = "#2b908f") %>%
hc_add_series(data = Hi(ts),yAxis = 0,  name = "Upper Band", color = "#f45b5b") %>%
hc_add_series(data = Lo(ts),yAxis = 0,  name = "Lower Band", color = "#f45b5b") %>%
hc_add_series(data = rsi.14,yAxis = 1,name = "RSI-14day") %>%
hc_add_series(RSI.SellLevel, color = hex_to_rgba("red", 0.7), yAxis = 1, name = "Sell level") |>
hc_add_series(RSI.BuyLevel, color = hex_to_rgba("blue", 0.7), yAxis = 1, name = "Buy level") |>
hc_add_series(data = macd,type = "column",yAxis = 2,name = "MACD") %>%
hc_tooltip(valueDecimals = 2)
source("~/Kaggle Projects/shiny-stock-monitor/processing-scripts/main_call_process.R")
shiny::runApp('app-files')
source("~/Kaggle Projects/shiny-stock-monitor/processing-scripts/main_call_process.R")
shiny::runApp('app-files')
source("~/Kaggle Projects/shiny-stock-monitor/processing-scripts/main_call_process.R")
source("~/Kaggle Projects/shiny-stock-monitor/processing-scripts/fetch-sp-500.R")
shiny::runApp('app-files')
install.packages(c("anytime", "BH", "bslib", "cards", "cartography", "chattr", "classInt", "cli", "clock", "collapse", "collections", "commonmark", "countrycode", "cowplot", "cpp11", "cptcity", "crul", "curl", "data.table", "Deriv", "diffobj", "doBy", "evaluate", "fastmatch", "forecast", "fs", "future", "future.apply", "gdtools", "generics", "gert", "gganimate", "ggforce", "gghighlight", "ggplot2", "ggpubr", "gh", "giscoR", "glmnet", "globals", "gower", "gt", "gtExtras", "gtsummary", "hardhat", "haven", "httpuv", "httr2", "igraph", "ISOcodes", "janitor", "jpeg", "jqr", "jsonlite", "knitr", "labelled", "later", "lava", "lme4", "lpSolve", "lubridate", "magick", "markdown", "MatrixModels", "matrixStats", "mice", "mime", "miniUI", "nloptr", "odbc", "openssl", "openxlsx", "packrat", "pagedown", "parallelly", "patchwork", "pbkrtest", "PerformanceAnalytics", "pillar", "pkgbuild", "pkgdown", "plotly", "processx", "prodlim", "promises", "proxyC", "ps", "purrr", "quanteda", "quantmod", "quantreg", "R.cache", "R.oo", "R6", "ragg", "raster", "Rcpp", "RcppArmadillo", "RcppParallel", "readxl", "recipes", "renv", "rlang", "rprojroot", "rsample", "rsconnect", "s2", "sass", "scales", "sessioninfo", "sf", "shiny", "sp", "sparsevctrs", "stringi", "svglite", "systemfonts", "terra", "testthat", "textshaping", "tibble", "tidyquant", "tidytext", "tinytex", "tm", "tsibble", "tzdb", "units", "urltools", "usethis", "utf8", "V8", "waldo", "websocket", "writexl", "xfun", "xlsxjars", "XML", "xml2", "zip", "zoo"))
install.packages(c("foreign", "MASS", "Matrix", "nlme", "survival"), lib="C:/Users/matth/AppData/Local/R/win-library/4.4")
shiny::runApp('app-files')
shiny::runApp('app-files')
shiny::runApp('app-files')
runApp('app-files')
shiny::runApp('app-files')
runApp('app-files')
runApp('app-files')
shiny::runApp('app-files')
runApp('app-files')
shiny::runApp('app-files')
shiny::runApp('app-files')
shiny::runApp('app-files')
shiny::runApp('app-files')
??HLC
quantmod::getSymbols.FRED("Intel")
runApp('app-files')
shiny::runApp('app-files')
runApp('app-files')
# The easiest way to get dplyr is sto install the whole tidyverse:
library(tidyverse) # https://www.tidyverse.org/
library(dplyr) # or just dplyr
library(quantmod)
library(TTR)
library(PerformanceAnalytics)
library(purrr)
library("IRdisplay")
#quantmod::getSymbols(Symbols = "SP500")
# get all S&P500 ----------------------------------------------------------
library(rvest)
# URL of the Wikipedia page containing the S&P 500 list
url <- "https://en.wikipedia.org/wiki/List_of_S%26P_500_companies"
# read contents of the page
sp500_page <- read_html(url)
#get the list of all S&P 500 & log them
sp500_table <- sp500_page %>% html_node(xpath = '//*[@id="constituents"]') %>% html_table()
#Prepare symbol ticker for looping
tickers <- sp500_table$Symbol
# This is where I'll store the data
stock_data_list <- list()
# Looping through & getting all the data..
# Function to download stock data
download_stock_data <- function(ticker) {
# try catch wiwll log the error but keeps on running
tryCatch({
stock_data <- getSymbols(ticker, src = "yahoo", auto.assign = FALSE)
Sys.sleep(1)  # Add a delay to avoid hitting the server too frequently
return(stock_data)
}, error = function(e) {
cat("Error downloading data for", ticker, "\n")
# would be good to open a text file & log errors there
return(NULL)
})
}
require(future)
require(furrr)
# read contents of the page
sp500_page <- read_html(url)
#get the list of all S&P 500 & log them
sp500_table <- sp500_page %>% html_node(xpath = '//*[@id="constituents"]') %>% html_table()
#Prepare symbol ticker for looping
tickers <- sp500_table$Symbol
# This is where I'll store the data
stock_data_list <- list()
# Function to download stock data
download_stock_data <- function(ticker) {
# try catch wiwll log the error but keeps on running
tryCatch({
stock_data <- getSymbols(ticker, src = "yahoo", auto.assign = FALSE)
Sys.sleep(1)  # Add a delay to avoid hitting the server too frequently
return(stock_data)
}, error = function(e) {
cat("Error downloading data for", ticker, "\n")
# would be good to open a text file & log errors there
return(NULL)
})
}
# Set up parallel processing (adjust workers as needed; leave one core free)
plan(multisession, workers = availableCores() - 1)
# Parallel map with progress (replaces purrr::map for speed)
stock_data_list <- future_map(tickers, download_stock_data, .progress = TRUE)
warnings()
# Name the list elements with the ticker symbols
names(stock_data_list) <- sp500_table$Security
saveRDS(stock_data_list,file = "~/Kaggle Projects/shiny-stock-monitor/app-files/data/stock_data_list.rds")
runApp('app-files')
shiny::runApp('app-files')
